+++
title = "This Week in Matrix 2022-11-18"
date = "2022-11-18T19:08:39Z"
path = "/blog/2022/11/18/this-week-in-matrix-2022-11-18"

[taxonomies]
author = ["Thib"]
category = ["This Week in Matrix"]
+++

## Matrix Live

{{ youtube_player(video_id="5xLqQvt3aig") }}

## Dept of Spec ðŸ“œ

[Andrew Morgan (anoa)](https://matrix.to/#/@andrewm:element.io) says

> Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <https://matrix.org/docs/spec/proposals>.
>
>
> ## MSC Status
>
> **New MSCs:**
>
> * [MSC3935: Cute Events against social distancing](https://github.com/matrix-org/matrix-spec-proposals/pull/3935)
> * [MSC3934: Bulk push rules change endpoint](https://github.com/matrix-org/matrix-spec-proposals/pull/3934)
> * [MSC3933: Core push rules for Extensible Events](https://github.com/matrix-org/matrix-spec-proposals/pull/3933)
> * [MSC3932: Extensible events room version push rule feature flag](https://github.com/matrix-org/matrix-spec-proposals/pull/3932)
> * [MSC3931: Push rule condition for room version features](https://github.com/matrix-org/matrix-spec-proposals/pull/3931)
> * [MSC3930: Polls push rules/notifications](https://github.com/matrix-org/matrix-spec-proposals/pull/3930)
> * [MSC3927: Extensible Events - Audio](https://github.com/matrix-org/matrix-spec-proposals/pull/3927)
>
> **MSCs in Final Comment Period:**
>
> * *No MSCs are in FCP.*
>
> **Merged MSCs:**
>
> * *No MSCs were merged this week.*
>
> ## Spec Updates
>
> ### Matrix v1.5
>
> Matrix v1.5 was released on November 17th, 2022! ðŸŽ‰
>
> While not as feature-packed as previous releases (v1.5 was intended as a maintenance release), it's still worth checking out! Included are two new MSCs that have landed, as well as loads of little bugfixes and clarifications to the spec text itself. Thanks to [all who helped fix issues](https://github.com/matrix-org/matrix-spec/issues?q=is%3Aissue+label%3Aclarification+is%3Aclosed+closed%3A%3E2022-10-01) since v1.4!
>
> See the [Matrix v1.5 blog post](https://matrix.org/blog/2022/11/17/matrix-v-1-5-release) for all the juicy details.
>
> ### Extensible Events are Shaping Up
>
> As may be apparent from the new MSCs this week, the SCT has been looking at extensible events to iron out some of the finer details of the system. They're not necessarily in the best position to review at the moment, but keep an eye on this space for when review would be most welcome ðŸ™‚  
>
> ## Random MSC of the Week
>
> The random MSC of the week is... [MSC2705: Animated thumbnails for media (and thumbnail content-type requirements)](https://github.com/matrix-org/matrix-spec-proposals/pull/2705)!
>
> This MSC attempts to define a method for clients to indicate to their homeserver that they would like to have animated version if possible when requesting a thumbnail of some media. This would allow clients to provide a toggle to the user for whether media in the timeline should be animated, or whether room and user avatars should be animated, etc. Potentially separate options for each!
>
> Today, there is no way for the client to indicate per-request whether they would like to receive an animated version of a thumbnail. This leaves the choice up to the homeserver, which gives individual users much less control.
>
> The MSC also defines mimetypes that animated thumbnails should return. And it has an implementation in [matrix-media-repo](https://github.com/turt2live/matrix-media-repo)!
>
> Check it out if animated avatars/thumbnails peaks your interest.
> <!-- markdownlint-disable-next-line no-alt-text -->
> ![](/blog/img/3f81c91afae13e0d6294abd810e354fb8e86e76b.png)

## Dept of Servers ðŸ¢

### Synapse ([website](https://github.com/matrix-org/synapse/))

Synapse is a Matrix homeserver implementation developed by the matrix.org core team

[Shay](https://matrix.to/#/@shayshay:matrix.org) says

> Another week has gone by and we here at Synapse Inc have been working hard on
> faster room joins, bugfixes, and other fun items to make Synapse faster and
> better, in addition to releasing v1.72.0rc1. Just a few highlights of the release are:
>
>
> * Adding experimental support for MSC3912: Relation-based redactions.
>
> * Adding an Admin API endpoint for user lookup based on third-party ID (3PID).
>
> * Fixing a background database update, introduced in Synapse 1.64.0, which could cause poor database performance.
>
> * Improving the performance of /context in large rooms.
>
>
> In addition, please note that we now only support PostgreSQL 11+, as PostgreSQL 10 has reached end-of-life.
> As always, if you'd like to know more about this release, hop on over to the release page (<https://github.com/matrix-org/synapse/releases>) and take a look!

## Dept of Clients ðŸ“±

### Neochat ([website](https://invent.kde.org/network/neochat))

A client for matrix, the decentralized communication protocol

[Tobias Fella](https://matrix.to/#/@tobiasfella:kde.org) says

> It's been a few weeks since the last update on NeoChat and we've been working hard on bringing new features and fixes. Some notable ones include:
>
> * Porting our settings to a nicer style
> * Various UI Improvements in the Room list and Timeline
> * Added the ability to configure a Proxy
> * Creating a significantly nicer UI for switching accounts
> * Improved the room search, with a more obvious way of searching on a different server
> * Viewing and Answering polls
> * The ability to change your display name for a single room
> * Correctly escaping HTML characters in various places
> * Fixed file sending on android
> * Fixed reactions sometimes not showing up
> * Fixed some problems with viewing custom emojis
> * Fixed the external room window blocking the main client window
> * Implemented showing animated images in the timeline
> <!-- markdownlint-disable-next-line no-alt-text -->
> ![](/blog/img/a354925f789a4372dbdc74507a8a36ca021f2b14.png)

### FluffyChat ([website](https://fluffychat.im))

[Krille Fear](https://matrix.to/#/@krille:janian.de) announces

> FluffyChat 1.7.0 has been released. It features a new way to work with spaces via a bottom navigation bar. A lot of work has also been done under the hood to make the app faster and more stable. The main color has slightly changed and the design got some finetuning.
> Please be aware that it can take some time until it receives all app stores. The Snap Store currently waits for a review, while the arm64 version of Flatpak has recently failed to build.
> Read the full changelog here: <https://gitlab.com/famedly/fluffychat/-/blob/main/CHANGELOG.md>

### Ement.el ([website](https://github.com/alphapapa/ement.el))

Matrix client for Emacs

[alphapapa](https://matrix.to/#/@alphapapa:matrix.org) announces

> [Ement.el](https://github.com/alphapapa/ement.el), a Matrix client for the [GNU Emacs](https://gnu.org/software/emacs) text editor and Lisp environment, has been updated to v0.5.  Since the last version announced in TWIM, these improvements have been made:
>
> *Additions*
>
> * Present "joined-and-left" and "rejoined-and-left" membership event pairs as such.
> * Process and show rooms' canonical alias events.
>
> *Changes*
>
> * The [taxy.el](https://github.com/alphapapa/taxy.el)-based room list, with programmable, smart grouping, is now the default `ement-room-list`.  (The old, `tabulated-list-mode`-based room list is available as `ement-tabulated-room-list`.)
>
> * When selecting a room to view with completion, don't offer spaces.
> * When selecting a room with completion, empty aliases and topics are omitted instead of being displayed as nil.
>
> *Fixes*
>
> * Use of send-message filter when replying.
> * Replies may be written in compose buffers.
>
> Feel free to join us in [#ement.el:matrix.org](https://matrix.to/#/#ement.el:matrix.org)!

### Element iOS ([website](https://github.com/vector-im/element-ios))

Secure and independent communication for iOS, connected via Matrix. Come talk with us in [#element-ios:matrix.org](https://matrix.to/#/#element-ios:matrix.org)!

[È˜tefan](https://matrix.to/#/@stefan.ceriu:matrix.org) reports

> * This week has been exciting for ElementX (our [brand new Element iOS client](https://github.com/vector-im/element-x-ios) based on the [Matrix Rust SDK](https://github.com/matrix-org/matrix-rust-sdk)) which gained a brand new navigation system and a new user notification system, support for displaying file messages in the timeline and playing back video ones, as well as sending states for new messages and an improved bubble layout.
> * We have also started working on an iPad specific layout, improved our logging components, improved hardware keyboard handling and fixed a few annoying issues
> * In Element land we have a made a handful of bug fixes which will hit the store next week and work has been continuing on threads, the new rich text editor, the device manager and our new crypto stack

### Element Android ([website](https://github.com/vector-im/element-android))

Secure and independent communication for Android, connected via Matrix. Come talk with us in [#element-android:matrix.org](https://matrix.to/#/#element-android:matrix.org)!

[benoit](https://matrix.to/#/@benoit.marty:matrix.org) announces

> * Element Android 1.5.8 RC is available on the PlayStore for testers.
> * The team is working on the device manager, the Rich Text Editor (to add more edition options: links, quote, etc.), and the voice broadcast.
> * On the Element Android X side, we are also making progress. We can now change the server (the server has to support sliding sync though). The room list is displayed and the timeline with the Rich Text editor too. We are now working to add more features such as supporting more Event types in the timeline, etc. And the app got a new monochrome icon!

## Dept of Non Chat Clients ðŸŽ›ï¸

### Populus Viewer ([website](https://github.com/opentower/populus-viewer))

A Social Annotation Tool Powered by Matrix

[gleachkr](https://matrix.to/#/@gleachkr:matrix.org) says

> Since our last update, Populus viewer has added two features, both a bit overdue:
>
> 1. Populus viewer now supports .well-known discovery, so you just need to know your matrix server name, rather than the full subdomain in order to connect.
> 2. Populus viewer now supports the "restricted" join rule for annotations, so that annotation membership can be restricted to members of the underlying resource space. This will likely be the default for newly created annotations in the future.
>
> Our server (at populus.open-tower.com) has also been rebuilt and reconfigured a bit, and will likely be converted from a test-bed to a stable home for annotation-based discussions in the coming weeks. As always, if you want to give us feedback, keep track of progress, or talk about the future of social annotation on Matrix, join us at [#opentower:matrix.org](https://matrix.to/#/#opentower:matrix.org)!

## Dept of Encryption ðŸ”

[uhoreg](https://matrix.to/#/@hubert:uhoreg.ca) announces

> As many of you know, we are working on using MLS, an upcoming IETF standard for end-to-end encryption, in Matrix.  We've set up a page, [Are We MLS Yet](https://arewemlsyet.com/) to track the progress of this project.

## Dept of SDKs and Frameworks ðŸ§°

### Matrix SDK in Elm (alpha)

[Bram](https://matrix.to/#/@bram:noordstar.me) reports

> [Elm](https://elm-lang.org/) is a functional programming language that compiles to JavaScript with the promise that their generated JS code will *NEVER* raise any runtime errors and show high performance.
>
> Despite the fact that certain implementations like [Cactus Chat](https://cactus.chat/) already [use Elm](https://gitlab.com/cactus-comments/cactus-client), I could not find an SDK for it. That's why I've started to write one: <https://git.noordstar.me/bram/Elm-Matrix>
>
> The SDK is currently in early development. The `/v3/sync` endpoint is functional and there are already a few other ways to interact with the API, so the repository can already be tested by developers who are familiar with Elm. If you aren't that familiar with the language, it is better to wait until I release the first complete version.

### libcmatrix

[Matthew](https://matrix.to/#/@matthew:matrix.org) announces

> Purism has been chipping away at libcmatrix for their chat app: <https://puri.sm/posts/toward-matrix-support-in-chats/>

### trinity ([website](https://github.com/bnjbvr/trinity))

[bnjbvr](https://matrix.to/#/@bnjbvr:delire.party) reports

> Trinity is an experimental bot framework written in Rust and using matrix-rust-sdk, as well as
> commands / modules compiled to WebAssembly, with convenient developer features like modules
> hot-reload.
>
> Two weeks of updates, because I've been slightly late last week:
>
> * Trinity now uses WebAssembly components as created with
>   [`cargo-components`](https://github.com/bytecodealliance/cargo-component) and
>   [`wit-bindgen`](https://github.com/bytecodealliance/wit-bindgen) under the hood for the Matrix
>   modules. This is quite experimental and early stage, but this allows multiple exciting things in
>   some not-so-distant future: switch API implementations at runtime, more security by isolating
>   specific APIs, using source languages for the modules that can be compiled with wit-bindgen, etc.
> * In particular, we've made a proof-of-concept for a bot module written in C (!) and compiled to
>   WebAssembly, and we've been very close to having a bot module written in Java using the excellent
>   [TeaVM](https://github.com/konsoletyper/teavm) project.
> * New APIs have been added for the modules:
>     * a simple key-value store, that is backed by the [redb](https://github.com/cberner/redb/) pure
>       Rust project, which comes with great performance.
>     * modules can now specific help messages as well as admin commands (that will be available only
>       to a predefined admin user).
> * Which then allowed to write a shiny new Mastodon module: configure it in a room with a set of
>   credentials, a Mastodon URL instance, define which users are allowed to use it, and then post
>   statuses from the room using `!toot message`.
>
> If you're interested to follow the project, feel free to join [our Matrix
> room](https://matrix.to/#/#trinity:delire.party) or get the code on
> [Github](https://github.com/bnjbvr/trinity).

### matrix-rust-sdk ([website](https://github.com/matrix-org/matrix-rust-sdk))

Next-gen crypto-included SDK for developing Clients, Bots and Appservices; written in Rust with bindings for Node, Swift and WASM

[ben](https://matrix.to/#/@gnunicorn:matrix.org) announces

> Major breakthroughs have happened behind the scenes this week: we were able to get a simple python3-asyncio to poll our rust-side future and receive its result via uniffi. While there isn't much to show for the outside world, this is a major step towards having async-uniffi. The team is super excited about this development.
>
> Meanwhile in Sliding-Sync-Land, we have debugged the session reset and added [transparent session recovery to the offline-caching PR](https://github.com/matrix-org/matrix-rust-sdk/pull/1193). Together with the latest [PR that hands over the already received timeline events to the new Timeline API](https://github.com/matrix-org/matrix-rust-sdk/pull/1219), this should visibly speed up things and improve overall performance across all major clients using both of these. Further more, the [Timeline API has UTD decryption retry support](https://github.com/matrix-org/matrix-rust-sdk/pull/1215) now. The client interfaces are moving ahead fast.
>
> On the always-on-going-improvement-front, we have upgraded to [ruma](https://github.com/matrix-org/matrix-rust-sdk/pull/1200), merged [the component generation for swift in xtask](https://github.com/matrix-org/matrix-rust-sdk/pull/1201), switched to custom [`cargo` build profiles](https://github.com/matrix-org/matrix-rust-sdk/pull/1208), have a [signaling mutex for crypto now](https://github.com/matrix-org/matrix-rust-sdk/pull/1213), moved [large parts of `deserialized_responses` to `matrix-sdk-base`](https://github.com/matrix-org/matrix-rust-sdk/pull/1212) and made the [`sync_token` accessor private](https://github.com/matrix-org/matrix-rust-sdk/pull/1216).
>
> ðŸ‘‰ï¸ Wanna hack on matrix rust? Go check out our [`help wanted` tagged issues](https://github.com/matrix-org/matrix-rust-sdk/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22) and join our matrix channel at Matrix Rust SDK.

## Dept of Ops ðŸ› 

### ML model for Matrix Spam Detection

[MTRNord](https://matrix.to/#/@mtrnord:midnightthoughts.space) says

> A few weeks ago I started experimenting with extending my moderation tools with a basic ML model that can give me early warnings on common spam.
>
> As a result <https://github.com/MTRNord/matrix-spam-ml> was made. It contains a basic ML model using tensorflow based on telegram spam from matrix and a standard SMS dataset. It provides a HTTP api which can also be found at <https://spam.midnightthoughts.space> and a Synapse and mjolnir integration for both sampling training data and using it as automated spam reactions and is planned for the future.
>
> Feel free to hop by in [#matrix-spam-ml:midnightthoughts.space](https://matrix.to/#/#matrix-spam-ml:midnightthoughts.space)  for any further questions :) also please note that the repo is using LFS and as it contains trained models it is pretty huge when cloning with LFS data.

### [axon.sh](https://git.thisisjoes.site/joe/axon.sh)

An interactive command-line administration tool for Synapse written in Bash. Better than typing curl requests!

[joe](https://matrix.to/#/@joe:matrix.thisisjoes.site) says

> [axon.sh version 0.22.0](https://git.thisisjoes.site/joe/axon.sh/releases/tag/v0.22.0) has been released, adding support for retrieving event reports from your homeserver, and looking up local users by third-party ID (requires Synapse 1.72.0rc1 or later).
> Please try it out and report your experience in [#axon:matrix.thisisjoes.site](https://matrix.to/#/#axon:matrix.thisisjoes.site)!

## Dept of Events and Talks ðŸ—£ï¸

### FOSDEM

[Thib](https://matrix.to/#/@thib:ergaster.org) reports

> This year, the Matrix.org Foundation is excited to host the first ever Matrix.org Foundation and Community devroom *in person* at FOSDEM. Half a day of talks, demos and workshops around Matrix itself and projects built on top of Matrix.
>
> We have a physical devroom on Sunday 5 morning, and will follow with details for the online devroom as soon as we get them! You can read the CfP for the physical devroom here: <https://matrix.org/blog/2022/11/16/call-for-participation-for-the-fosdem-2023-matrix-devroom>

## Dept of Interesting Projects ðŸ›°ï¸

### Matrix plays GameBoy games once more

[Bram](https://matrix.to/#/@bram:noordstar.me) announces

> [Last week's TWIM](https://matrix.org/blog/2022/11/11/this-week-in-matrix-2022-11-11#matrix-plays-gameboy-games) presented a [GBA emulator](https://github.com/jaller94/matrix-plays-pokemon) that was written and implemented in JavaScript. Due to some obscure Rust dependencies that weren't compatible with my server setup, I decided to rewrite the program in Python.
>
> The Python implementation can be found at [bram/pyboy-to-matrix](https://git.noordstar.me/bram/pyboy-to-matrix). It only supports GameBoy games (no GBA), but it only needs one process (or Docker container) to run both the emulator and the Matrix bot.
>
> If you're unfamiliar with last week's post, the GameBoy emulator is a program that emulates games and then interacts with you on Matrix. You can send commands and the emulator will show you what happened in the game.
>
> Send me a DM at [@bram:noordstar.me](https://matrix.to/#/@bram:noordstar.me) if you want to see a live demo.
>
> <!-- markdownlint-disable-next-line no-alt-text -->
> ![](/blog/img/GvfnLIudxTudHNcuTGeRLfnj.png)

## Dept of Ping

Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by [pingbot](https://github.com/maubot/echo), a [maubot](https://github.com/maubot/maubot) that you can host on your own server.

### [#ping:maunium.net](https://matrix.to/#/#ping:maunium.net)

Join [#ping:maunium.net](https://matrix.to/#/#ping:maunium.net) to experience the fun live, and to find out how to add YOUR server to the game.

|Rank|Hostname|Median MS|
|:---:|:---:|:---:|
|1|dmnd.sh|270|
|2|joeth.uk|439.5|
|3|matrix.org|483.5|
|4|babel.sh|617|
|5|willian.wang|731|
|6|babel1.eu|738|
|7|cezeri.tech|741|
|8|kittenface.studio|906|
|9|wcore.org|993|
|10|keks.club|1435|

### [#ping-no-synapse:maunium.net](https://matrix.to/#/#ping-no-synapse:maunium.net)

Join [#ping-no-synapse:maunium.net](https://matrix.to/#/#ping-no-synapse:maunium.net) to experience the fun live, and to find out how to add YOUR server to the game.

|Rank|Hostname|Median MS|
|:---:|:---:|:---:|
|1|dendrite.matrix.org|130|
|2|babel.sh|214|
|3|willian.wang|289|
|4|wcore.org|297|
|5|frai.se|301|
|6|forlorn.day|572|
|7|grin.hu|612|
|8|valha.la|796.5|
|9|rustybever.be|869|
|10|matrix.milkte.ch|911|

## That's all I know

See you next week, and be sure to stop by [#twim:matrix.org](https://matrix.to/#/#twim:matrix.org) with your updates!
