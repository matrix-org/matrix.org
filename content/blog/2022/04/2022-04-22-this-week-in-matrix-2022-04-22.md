+++
title = "This Week in Matrix 2022-04-22"
path = "/blog/2022/04/22/this-week-in-matrix-2022-04-22"

[taxonomies]
author = ["Thib"]
category = ["This Week in Matrix"]
+++

## Matrix Live 🎙

{{ youtube_player(video_id="Vl3oP_o9StE") }}

## Dept of Servers 🏢

### Synapse ([website](https://github.com/matrix-org/synapse/))

Synapse is a Matrix homeserver implementation developed by the matrix.org core team

[dmr](https://matrix.to/#/@dmrobertson:matrix.org) says

> Hello again everyone. This week the team [released Synapse 1.57.0](https://matrix.org/blog/2022/04/19/synapse-1-57-released), followed by a [1.57.1 patch release](https://github.com/matrix-org/synapse/releases/tag/v1.57.1) that fixed a problem in the 1.57.0 docker image.
>
> This week was a little on the quieter side again, with some of us away on holiday and others away with illness. Nevertheless, this week `develop` saw a variety of activity. Some personal highlights:
>
> * Shay's effort to [document Synapse's numerous config options](https://github.com/matrix-org/synapse/commit/3c758d9808ddc00ee96c5426dda3caea356c8745) [landed](https://matrix-org.github.io/synapse/develop/usage/configuration/config_documentation.html). This is a huge and comprehensive effort that'll help administrators to understand all the options they have to configure Synapse.
> * [Further progress from Rich on the fast room joins project](https://github.com/matrix-org/synapse/pull/12399). In some tests we've seen a 5x speed-up over the status quo!
> * [A subtle bugfix](https://github.com/matrix-org/synapse/pull/12496) from Erik which corrects incorrect counts in one of the Admin API endpoints.
> * The remainder of [the poetry work](https://github.com/orgs/matrix-org/projects/54) has landed. There were a few last-minute complications in CI to smooth out, but we've now finished the migration. Synapse's docker images and debian package now come with a fixed set of dependencies (even transitive ones) in a way that lets us support multiple Python versions and interpreters.
>
> We're looking forward to shipping these in Synapse 1.58, whose RC is scheduled for Tuesday the 26th of April.
>
> I'm also keen to see how [PR 12522](https://github.com/matrix-org/synapse/pull/12522) from Rich and Olivier progresses. It aims to fix a nasty memory bug which can cause Synapse to get stuck in an [OOM loop](https://en.wikipedia.org/wiki/Out_of_memory).
>
> As ever, I'd like to express thanks to our community of users, server operators and contributors. Thanks are also due to @callahad: today is his last day of managing the Synapse team. We're all going to miss him and wish him well: thank you for everything you'd done over the last year and a half.

## Dept of Bridges 🌉

### Heisenbridge ([website](https://github.com/hifi/heisenbridge/))

Heisenbridge is a bouncer-style Matrix IRC bridge.

[hifi](https://matrix.to/#/@hifi:vi.fi) reports

> Release v1.12.0 🥳
>
> * Make MAXLINES and PASTEBIN option available to every room & global defaults (thanks @BtbN)
> * Fix 'NoneType' is not iterable error (thanks @BtbN)
> * Upgrade to Mautrix 0.16
>
> Not much to see here. A small contribution release which is always a nice thing when people come around and help 🤗.
>
> Go and get some ☀️ sunlight from [GitHub](https://github.com/hifi/heisenbridge/releases), [PyPI](https://pypi.org/project/heisenbridge/) or [matrix-docker-ansible-deploy](https://github.com/spantaleev/matrix-docker-ansible-deploy)!
>
> Thanks!

## Dept of Clients 📱

### Sailtrix ([website](https://gitlab.com/HengYeDev/harbour-sailtrix))

Sailtrix is a matrix client for SailfishOS

[HengYeDev](https://matrix.to/#/@hengyedev:mozilla.org) says

> Summary of development this week
> * Sailtrix is fixed on Sailfish 4.4, which added sandboxing to all apps
> * Sorting is fixed in the favorites tab
> * The create room dialog is fixed
> * Some validation is added to the login page
> * Sharing with other apps and bluetooth is added for newer Sailfish versions
> * SSO seems to be working, still in testing

### Element ([website](https://element.io))

Everything related to Element but not strictly bound to a client

[kittykat](https://matrix.to/#/@kittykat:matrix.org) announces

> **Location sharing**
>  * As a follow on from our previous launches, the team is building “live location sharing”. This will allow you to automatically share where you are in the world with others for a period you choose (15 minutes, 1 hour, or 8 hours), instead of sending a single static location.
>
> **Community testing**
>  * We ran our first async community testing session this week. Thank you all who joined in! We found 13 issues so far, which is good going.
>  * We have some new features landing for the search experience on Web, join us for testing from Thursday!
>  * You can join us at [#element-community-testing:matrix.org](https://matrix.to/#/#element-community-testing:matrix.org) to find out more!

### Element Web/Desktop ([website](https://github.com/vector-im/element-web))

Secure and independent communication, connected via Matrix. Come talk with us in [#element-web:matrix.org](https://matrix.to/#/#element-web:matrix.org)!

[Danielle](https://matrix.to/#/@daniellekirkwood:one.ems.host) says

> * Threads is in Beta! The team is hard at work smashing bugs and improving notifications so that we can remove the beta label and get everybody access to our new feature!
>     - If you’re using Threads, don’t forget to give us your feedback.
> * This week the team discussed how our Web product looks and feels to new users. While we use our own products all the time, it can be good to take a step back and ensure that our product decisions benefit all users, including the newbies. Watch this space for more info in the coming weeks as we continue to trial things that we hope will make onboarding to Element easier.
> * In labs (you can enable labs in settings on develop.element.io or on Nightly)
>     - Video rooms are coming together nicely, with the addition of lobby screens and room list stickiness to wrap up the design implementation

### Element iOS ([website](https://github.com/vector-im/element-ios))

Secure and independent communication for iOS, connected via Matrix. Come talk with us in [#element-ios:matrix.org](https://matrix.to/#/#element-ios:matrix.org)!

[Manu](https://matrix.to/#/@Manu:matrix.org) announces

> * The newest version of the app (1.8.13) is ready! In this release we’ve made a bunch of improvements and bug fixes, check it out [here](https://github.com/vector-im/element-ios/releases/tag/v1.8.13).
>   * Our favourites include: Force touching room previews no longer update your read receipts, there’s a congratulations screen for new users when creating an account, and we’ve reduced the number of home page reloads.
> * Also new in product are [presence indicators](https://github.com/vector-im/element-ios/pull/5972)! From your home page or DMs you’ll be able to see if a user is present or away. Note; this is only supported if your homeserver has it enabled.
> * Upcoming; We’re working on adding ‘mention pills’ when tagging users in a room.
> * Please note; We’ll soon be removing support for iOS 12 and iOS 13

### Element Android ([website](https://github.com/vector-im/element-android))

Secure and independent communication for Android, connected via Matrix. Come talk with us in [#element-android:matrix.org](https://matrix.to/#/#element-android:matrix.org)!

[benoit](https://matrix.to/#/@benoit.marty:matrix.org) says

> * The team is working on fixing bugs and making improvements to flows like “ignore user”. We’ve also made some changes to the way we format code.
> * Element Android 1.4.12 is ready to be released but currently on hold in the Play Store due to rules around User Generated Content (UGC). We’re chatting with Google and the new update should be available soon.

## Dept of Non Chat Clients 🎛️

### Populus Viewer ([website](https://github.com/opentower/populus-viewer))

A Social Annotation Tool Powered by Matrix

[gleachkr](https://matrix.to/#/@gleachkr:matrix.org) says

> We've added two major user-facing features to populus viewer:
>
> 1. A two-up view in the pdf viewer, allowing you to view and annotate two pages at once on a wider screen
> 2. An audio viewer, complete with audio annotation, so that you can annotate temporal segments of an audio recording
>
> I'm especially excited about the latter - being able to discuss audio recordings will be a great teaching tool, and I'm hoping it might also be useful for things like people who want to talk about podcasts together (for purposes of editing, or just for fun), and people who want to annotate recordings of public talks of various kinds. The last use case would also be pretty well served by *video* annotation - so that's now rising on the agenda. I've created an MSC, [here](https://github.com/matrix-org/matrix-spec-proposals/pull/3775) where I'll be filling in the details of a proposed format for interoperable audiovisual media annotations. As always, if you've got questions, want to follow development progress, or just want to talk about the future of social annotation on Matrix, come join us at [#opentower:matrix.org](https://matrix.to/#/#opentower:matrix.org).
> ![](/blog/img/UOKqDpqnzwJYNOeiRTBwDCTp.png)
{{ youtube_player(video_id="EfiYYmyz88U") }}

### nheko-krunner ([website](https://github.com/LorenDB/nheko-krunner))

A KRunner plugin to list joined rooms and possibly other things from nheko.

[LorenDB](https://matrix.to/#/@lorendb:matrix.org) says

> [nheko-krunner](https://github.com/LorenDB/nheko-krunner) has finally been [released](https://github.com/LorenDB/nheko-krunner/releases/tag/v0.1.0)! Version 0.1.0 contains several handy features such as searching your rooms, joining new rooms, and starting and switching to direct chats. Furthermore, if a room has unread notifications, nheko-krunner will let you know by tacking on a notification count to the room name (e.g. `This Week in Matrix (TWIM) (1)`. Currently this feature is not disable-able, but I plan to dive into writing KCMs (KConfig Modules) soon so that I can add a toggle for this.
>
> Hopefully a few people find this handy, and remember that if you don't use KDE, nheko still has a handy D-Bus API that you can use to write integrations with other software.
>
>
> ![](/blog/img/lBOTgQRkJTKXdSVatGYRoIWo.png)
>
> ![](/blog/img/yzTfbscuSptPKLKXCpRAUweb.png)

## Dept of SDKs and Frameworks 🧰

### matrix-rust-sdk ([website](https://github.com/matrix-org/matrix-rust-sdk))

Matrix Client-Server SDK for Rust

[Jonas Platte](https://matrix.to/#/@jplatte:flipdot.org) says

> Over the last weeks, we've been doing a lot of refactoring in preparation for the 0.5.0 release, but we also
>
> * [Added support for retrieving room account data](https://github.com/matrix-org/matrix-rust-sdk/pull/567)
> * [Made it easier to create a client while being offline](https://github.com/matrix-org/matrix-rust-sdk/pull/577)
> * [Fixed a rare bug with SSO login](https://github.com/matrix-org/matrix-rust-sdk/pull/592) (`localhost` didn't always resolve, so we switched to `127.0.0.1`)
> * We made some progress on [sliding sync](https://github.com/matrix-org/matrix-rust-sdk/pull/536) and [adding an FFI interface](https://github.com/matrix-org/matrix-rust-sdk/pull/571) for the main `matrix-sdk` crate

### Matrix Dart SDK ([website](https://gitlab.com/famedly/company/frontend/famedlysdk))

Matrix SDK written in pure Dart.

[Henri Carnot [famedly]](https://matrix.to/#/@henri_carnot:famedly.de) says

> We haven't done any regular posts about it in a while, but the SDK sees almost weekly releases. (We did release version 0.8.20 last week) If you forgot about it, the Matrix Dart SDK is the SDK FluffyChat, the Famedly clients and a few others use. Let me summarize some of the changes for those who haven't kept up:
>
> One of the killer features is probably WebRTC support 🚀. It handles all the signalling for you, which makes integrating call support into your Flutter or Dart Matrix client fairly simple. Currently it supports version 1 of the call protocol, which is still an MSC and implements a few of the other MSCs. Experiments with group calls are still in progress.
>
> We also switched databases a few times and tuned it more (we posted about FluffyBox last year). The database backend should now be a lot more stable and more performant, while also using less memory.
>
> Continuing with stability, we worked a lot on how the timeline is stored and structured, leading to a much more robust experience. The SDK is also now completely nullsafe 🎉, which gets rid of a lot of annoying error modes. There were some fixes to E2EE here and there, but mostly the experience has been really solid and didn't need much work.
>
> Some of the more recent developments include widget support as well as improving the file upload experience. The SDK now inserts a dummy event for a pending upload, images are thumbnailed and resided in a different isolate and uploads are automatically retried after a connection failure. We are also working on improving the push support, making it easier to fetch events from a push.
>
> And I'm currently working on bringing fragmented timeline support. Nico told me it would be pretty (not) easy to do... and I have to say, he was right. Good first issue 🙃
>
> See you next week ;)

## Dept of Ops 🛠

### Nix-matrix-appservices

[Pacman99](https://matrix.to/#/@pachumicchu:myrdd.info) announces

> I've created a NixOS module, nix-matrix-appservices, that can simplify the bootstrap and maintenance of matrix appservices on nixos. With it, appservices can be spun up easily with registration and tokens handled by the module. Most mautrix and mx-puppet bridges have been tested to work and they can be setup in a couple lines of nix code. There are plenty of options you can make use of to configure more complex appservices.
> You can find the the code, matrix room(gitlab badge), and usage information here: https://gitlab.com/coffeetables/nix-matrix-appservices

### Synatainer ([website](https://gitlab.com/mb-saces/synatainer))

Synapse Maintenance Container – Docker container with tools for synapse & postgres database maintenance

[saces](https://matrix.to/#/@saces:c-base.org) announces

> Synatainer v0.4.0
>
> New since v0.3.x
>   - autocompressor have only one setting
>   - add a golang tool `stui` - synatainer terminal ui
>   - replace the vacuum shell script with stui
>
> `stui` is a typical golang binary, it's also available as stand alone version from the [release page](https://gitlab.com/mb-saces/synatainer/-/releases)
>
> For now it can only do a full vacuum and show some rugged formatted database info
>
>     [docker run -it --rm registry.gitlab.com/mb-saces/synatainer:latest] stui vacuum-db --help
>     [docker run -it --rm registry.gitlab.com/mb-saces/synatainer:latest] stui db-info
>
> The doc have a lot of space for improvements…
>
> ***
>
> Start the container without command and let do its magic :)
>
> What it does by default:
> * daily:
>   - purge all rooms without local members
>   - run the state autocompressor (500/100)
> * weekly:
>   - delete old remote media (>90 days)
>   - delete old message history from public joinable rooms (>180 days)
> * monthly:
>   - vacuum the database
>
> Source: https://gitlab.com/mb-saces/synatainer
>
> Room: [#synatainer:c-base.org](https://matrix.to/#/#synatainer:c-base.org)
>
> Compose example: https://gitlab.com/mb-saces/synatainer/-/snippets/2264828
>
> ***
>
> If you are looking for a docker container with just the auto compressor for linux amd64/arm64 in it, her you go: https://gitlab.com/mb-saces/rust-synapse-compress-state

### matrix-docker-ansible-deploy ([website](https://github.com/spantaleev/matrix-docker-ansible-deploy))

Matrix server setup using Ansible and Docker

[Slavi](https://matrix.to/#/@slavi:devture.com) announces

> Thanks to [Julian-Samuel Gebühr (@moan0s)](https://github.com/moan0s) - moanos [he/him], [matrix-docker-ansible-deploy](https://github.com/spantaleev/matrix-docker-ansible-deploy) can now help you set up [matrix-registration-bot](https://github.com/moan0s/matrix-registration-bot) - a bot that is used to create and manage registration tokens for a Matrix server.
>
> See our [Setting up matrix-registration-bot](https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-bot-matrix-registration-bot.md) documentation to get started.

[Slavi](https://matrix.to/#/@slavi:devture.com) says

> Thanks to [Aine](https://gitlab.com/etke.cc) of [etke.cc](https://etke.cc/), [matrix-docker-ansible-deploy](https://github.com/spantaleev/matrix-docker-ansible-deploy) can now set up [Borg](https://www.borgbackup.org/) backups with [borgmatic](https://torsion.org/borgmatic/) of your Matrix server.
>
> See our [Setting up borg backup](https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-backup-borg.md) documentation to get started.

## Dept of Interesting Projects 🛰️

### MinesTRIX ([website](https://minestrix.henri2h.fr))

A privacy focused social media based on MATRIX

[Henri Carnot](https://matrix.to/#/@henri2h:carnot.cc) announces

> just did release V.1.5.5 today, this is the last update since a few months ago.
>
> Some of the changes are:
> * feat: compliance to the latest version of [MSC3639: Matrix for the social media use case](https://github.com/matrix-org/matrix-spec-proposals/pull/3639)
> * feat: added images support for posts. You can now send multiple images in a post and display them in a gallery view.
> * feat: New emoji picker, you can now select and react to message in one continuous press.
> * feat: Comments nesting, (using threads)
> * feat: Image comment (read only :()
> * feat: Dark theme support
> * feat: New settings page (added a lab section :D, seems you need to have one if you want to build a proper Matrix client)
> * feat: proper emoji support for desktop. Thanks fluffychat :)
> * feat: Initial story support
> * feat: various UI enhancements.
>
> Concerning the messaging feature:
> * feat: Initial poll support
> * feat: read only spaces support
> * feat: room list search box
> * feat: chat settings dialog
> * feat: read receipts list dialog
> * feat: reaction list dialog
> * feat: now use rounded avatar. Let's be consistent with other clients.
> * feat: better display for replies and `m.notice`.
> * feat: Localization support thanks to the Matrix Dart SDK
>
> And some work already in for multiple profiles support, and profile as space (just use a public space to store your profile rooms).
>
> If you are interested, come say hi in [the room](https://matrix.to/#/#minestrix:carnot.cc).
>
> PS: You can also help us to design the underlying MSC, especially, we need some opinions on how to name things (the profile rooms) [the room](https://matrix.to/#/#social-matrix:carnot.cc) !!
>
> ![](/blog/img/neMAizSmKgxhdadsozuEIbOK.png)
>
> ![](/blog/img/AgMZwhxQaXLPKfnMbSBNINpL.png)
>
> ![](/blog/img/ogMbRbyQOWyzYlTFtjDllCcI.png)

## Dept of Ping 🏓

We know you missed it, here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by [pingbot](https://github.com/maubot/echo), a [maubot](https://github.com/maubot/maubot) that you can host on your own server.

### [#ping:maunium.net](https://matrix.to/#/#ping:maunium.net)
Join [#ping:maunium.net](https://matrix.to/#/#ping:maunium.net) to experience the fun live, and to find out how to add YOUR server to the game.

|Rank|Hostname|Median MS|
|:---:|:---:|:---:|
|1|envs.net|359.5|
|2|intothecyber.space|443|
|3|tedomum.net|468|
|4|maescool.be|693|
|5|jeroenhd.nl|729|
|6|jauriarts.org|734|
|7|alemann.dev|855.5|
|8|nevarro.space|969|
|9|0wnz.at|998|
|10|quyo.de|1494|

### [#ping-no-synapse:maunium.net](https://matrix.to/#/#ping-no-synapse:maunium.net)
Join [#ping-no-synapse:maunium.net](https://matrix.to/#/#ping-no-synapse:maunium.net) to experience the fun live, and to find out how to add YOUR server to the game.

|Rank|Hostname|Median MS|
|:---:|:---:|:---:|
|1|nognu.de|278|
|2|cry.is|391|
|3|rustybever.be|558|
|4|sspaeth.de|700.5|
|5|beckmeyer.us|911|
|6|grin.hu|981|

## That's all I know 🏁

See you next week, and be sure to stop by [#twim:matrix.org](https://matrix.to/#/#twim:matrix.org) with your updates!
