{% extends "page.html" %}
{% block content %}
{% set clients = load_data(path="content/ecosystem/clients/clients.toml") %}
<div class="content">
    <header>
        <h1>{{ page.title }}</h1>
    </header>
    <p>{{ page.content | safe }}</p>
</div>
<div class="all-clients">
    <div class="clients-table">
        <strong>Name</strong>
        <strong>Maintainer</strong>
        <strong>Platforms</strong>
        <strong>Last Release</strong>
        <strong>Maturity</strong>
        <strong>License</strong>
        <strong>E2EE</strong>
        <strong>Spaces</strong>
        <strong>VoIP (1:1)</strong>
        <strong>VoIP (Jitsi)</strong>
        <strong>Widgets</strong>
        <strong>Threads</strong>
        <strong>SSO</strong>
        <strong>Multi-account</strong>
        <strong>Multi language</strong>

        {% for name, client in clients %}
        <!-- new row -->
        <span>{{ name }}</span>
        <span>{{ client.maintainer }}</span>
        <span>
            {% if client.packages.apple_app_store.app_id and client.packages.apple_app_store.org %}
            <a href="https://apps.apple.com/app/{{ client.packages.apple_app_store.org }}/{{ client.packages.apple_app_store.app_id }}" class="platform-pill">App Store</a>
            {% endif %}
            {% if client.packages.google_play_store.app_id %}
            <a href="https://play.google.com/store/apps/details?id={{ client.packages.google_play_store.app_id }}" class="platform-pill">Google Play</a>
            {% endif %}
            {% if client.packages.f_droid.app_id %}
            <a href="https://f-droid.org/packages/{{ client.packages.f_droid.app_id }}" class="platform-pill">F-Droid</a>
            {% endif %}
            {% if client.packages.flathub.app_id %}
            <a href="https://flathub.org/apps/details/{{ client.packages.flathub.app_id }}" class="platform-pill">Flathub</a>
            {% endif %}
            {% if client.packages.other_url %}
            <a href="{{ client.packages.other_url }}" class="platform-pill">Web</a>
            {% endif %}
        </span>
        <span>{{ client.last_release | date(format="%Y-%m-%d") }}</span>
        <span>{{ client.maturity }}</span>
        <span>{{ client.license }}</span>
        <span class="feature">
            {% if client.features.e2ee %}
            <span class="checkmark">✓</span>
            {% else %}
            <span class="cross">✗</span>
            {% endif %}
        </span>
        <span class="feature">
            {% if client.features.spaces %}
            <span class="checkmark">✓</span>
            {% else %}
            <span class="cross">✗</span>
            {% endif %}
        </span>
        <span class="feature">
            {% if client.features.voip_1to1 %}
            <span class="checkmark">✓</span>
            {% else %}
            <span class="cross">✗</span>
            {% endif %}
        </span>
        <span class="feature">
            {% if client.features.voip_jitsi %}
            <span class="checkmark">✓</span>
            {% else %}
            <span class="cross">✗</span>
            {% endif %}
        </span>
        <span class="feature">
            {% if client.features.widgets %}
            <span class="checkmark">✓</span>
            {% else %}
            <span class="cross">✗</span>
            {% endif %}
        </span>
        <span class="feature">
            {% if client.features.threads %}
            <span class="checkmark">✓</span>
            {% else %}
            <span class="cross">✗</span>
            {% endif %}
        </span>
        <span class="feature">
            {% if client.features.sso %}
            <span class="checkmark">✓</span>
            {% else %}
            <span class="cross">✗</span>
            {% endif %}
        </span>
        <span class="feature">
            {% if client.features.multi_account %}
            <span class="checkmark">✓</span>
            {% else %}
            <span class="cross">✗</span>
            {% endif %}
        </span>
        <span class="feature">
            {% if client.features.multi_language %}
            <span class="checkmark">✓</span>
            {% else %}
            <span class="cross">✗</span>
            {% endif %}
        </span>
        {% endfor %}
    </div>
</div>
{% endblock content %}
