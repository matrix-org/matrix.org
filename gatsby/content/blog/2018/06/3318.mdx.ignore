---
date: '2018-06-15'
title: This Week In Matrix 2018-06-15
categories:
  - General
---

<em>[Ben is out this week, so this week's TWIM has been hastily assembled without the usual love and care by Matthew instead]</em>
<h3>TravisR joins the core team!</h3>
First off: we're super-excited to announce that TravisR is joining the core team on July 3rd, hired to work fulltime on maintaining the Matrix spec and improving Riot/Web (including helping implement the new redesign!). Travis has been one of the most prolific independent contributors to Matrix, between his own <a href="https://github.com/turt2live/">40 personal projects</a> and massive <a href="https://github.com/vector-im/riot-web/issues?q=+author%3Aturt2live">bug</a> &amp; <a href="https://github.com/matrix-org/matrix-react-sdk/pulls?utf8=%E2%9C%93&amp;q=+author%3Aturt2live">PR</a> contributions to matrix-react-sdk, riot-web and the spec), and we can't wait for him to be able to finally work on Matrix full-time.  Between TravisR and uhoreg we now have two more people who can focus on improving the spec and help fix the backlog we've accumulated there - exciting times :D
<h3>Nheko now supports E2E Encryption!!!</h3>
In other massive news, <a href="https://github.com/mujx">mujx</a> has an initial cut of functional megolm E2E encryption working on the <a href="https://github.com/mujx/nheko/tree/e2ee">e2ee branch of nheko</a>!  This also includes a massive refactor of the whole app into a generic boost::asio based (and e2e-capable!) <a href="https://github.com/mujx/mtxclient">mtxclient library</a>. There are still a lot of edge cases to sort out before the branch is merged to master, but the core tech works as you can see in the video below (which we've had to speed up by 3x because matrix.org is so overloaded this afternoon :|)  Massive congratulations to mujx and everyone else who has worked on this - it's incredibly exciting to see 3rd party implementations of Matrix's E2E encryption evolving.
<p style="text-align: center;"><div class="video-container"><iframe src="https://www.youtube.com/embed/Hk0lntZwruo" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></div></p>

<h3>Seaglass</h3>
The elegant macOS native client entered the second week of its existence!  <a href="https://github.com/neilalexander/seaglass">Seaglass</a> is now released under AGPLv3, and has lots more refinements - Markdown support, UTF8 bugfixes, Bubble UI and more!
There's also experimentation on the horizon to use NSWebKit rather than NSAttributedString for rendering. For more info, join <a href="https://matrix.to/#/#seaglass:matrix.org">#seaglass:matrix.org</a>.
<h3>Fractal</h3>
Tobias Bernard tells us that Fractal 3.29.0 was released: "our first release following the GNOME versioning scheme. It includes Eisha's redesigned room directory, and the all-new account settings by Julian. Daniel worked on adding a message queue, which makes Fractal much more usable on slow internet connections.".  And here's a pic of the new room directory!

<a href="/blog/wp-content/uploads/2018/06/fractal.png"><img class="aligncenter size-full wp-image-3319" src="/blog/wp-content/uploads/2018/06/fractal.png" alt="" width="800" height="530" /></a>

&nbsp;
<h3 style="text-align: left;">Useful Gists!</h3>
<p style="text-align: left;">TravisR shared a bunch of useful gists for including in upcoming guides rework:
<pre>
* <a href="https://gist.github.com/turt2live/f7e33017e72a83905f7f6acae31f4143">https://gist.github.com/turt2live/f7e33017e72a83905f7f6acae31f4143</a> &lt;-- how to set a default 'tint' colourscheme on riot
* <a href="https://gist.github.com/turt2live/697d5b3781fb7ab7e11d704ea90e3dbe">https://gist.github.com/turt2live/697d5b3781fb7ab7e11d704ea90e3dbe</a> &lt;-- how to set custom tags on a room
* <a href="https://gist.github.com/Matrixcoffee/73e84990c29a2f26ece7f09e0bc39bfa">https://gist.github.com/Matrixcoffee/73e84990c29a2f26ece7f09e0bc39bfa</a> &lt;-- how to configure RSS bot without a client></pre></p>

<h3>hacklab.fi</h3>
Vurpo says: I successfully set up our hacklab.fi Matrix server (+ invite registration links using ZerataX's system that we saw here<a href="/blog/2018/06/01/this-week-in-matrix-2018-06-01/"> a while back</a>) and demo'd it to our crowd here at Helsinki Hacklab - also got some people on the server and testing it out, and I'd say it was in general a success! <a href="https://matrix.hacklab.fi/register.html">https://matrix.hacklab.fi/register.html</a>
<h3>gomuks and maubot!</h3>
Tulir says: ? <span style="color: #ff0000;">T</span><span style="color: #ff3b00;">W</span><span style="color: #ff5700;">I</span><span style="color: #ff6d00;">M</span><span style="color: #ff8100;">:</span> <span style="color: #ffa400;">I</span><span style="color: #ffb400;">t</span><span style="color: #fabc00;">'</span><span style="color: #f1bc00;">s</span> <span style="color: #dfbc00;">p</span><span style="color: #d6bc00;">r</span><span style="color: #cdbc00;">i</span><span style="color: #c4bc00;">d</span><span style="color: #bcbc00;">e</span> <span style="color: #bfcd00;">m</span><span style="color: #c0d600;">o</span><span style="color: #c0df00;">n</span><span style="color: #bfe800;">t</span><span style="color: #bef100;">h</span><span style="color: #bdfa00;">,</span> <span style="color: #a8ff00;">s</span><span style="color: #99ff00;">o</span> <span style="color: #77ff00;">I</span> <span style="color: #45ff00;">a</span><span style="color: #00ff00;">d</span><span style="color: #00ff3d;">d</span><span style="color: #00ff5a;">e</span><span style="color: #00ff71;">d</span> <span style="color: #00ff96;">f</span><span style="color: #00ffa7;">o</span><span style="color: #00ffb5;">n</span><span style="color: #00ffc1;">t</span> <span style="color: #00ffd6;">t</span><span style="color: #00ffe0;">a</span><span style="color: #00ffe9;">g</span> <span style="color: #00fff8;">s</span><span style="color: #00ffff;">u</span><span style="color: #00f7ff;">p</span><span style="color: #00eeff;">p</span><span style="color: #00e5ff;">o</span><span style="color: #00dcff;">r</span><span style="color: #00d3ff;">t</span> <span style="color: #00c0ff;">a</span><span style="color: #00b7ff;">n</span><span style="color: #00adff;">d</span> <span style="color: #0093ff;">a</span> <span style="color: #6b6cff;">c</span><span style="color: #974eff;">o</span><span style="color: #bc00ff;">m</span><span style="color: #c500ff;">m</span><span style="color: #cf00ff;">a</span><span style="color: #d800ff;">n</span><span style="color: #e100ff;">d</span> <span style="color: #f200ff;">t</span><span style="color: #fb00ff;">o</span> <span style="color: #ff00f0;">g</span><span style="color: #ff00e7;">o</span><span style="color: #ff00de;">m</span><span style="color: #ff00d5;">u</span><span style="color: #ff00cc;">k</span><span style="color: #ff00c4;">s!</span>

I'm also working on a plugin-based matrix bot system. It's not very usable yet, but I did just get a hello world type bot to be loaded at runtime and respond to my ping. <a class="linkified" href="https://github.com/maubot/maubot" target="_blank" rel="noopener">https://github.com/maubot/maubot</a>

It's plugin-based (as in load at runtime) and I'm planning to make the message formatting/ui better than what go-neb does currently
<h3>Neo</h3>
f0x announces <a href="https://github.com/f0x52/neo/releases/tag/alpha0.07"><span style="color: #ff0000;">N</span><span style="color: #ff0500;">e</span><span style="color: #ff0a00;">o</span><span style="color: #ff0f00;"> </span><span style="color: #ff1400;">R</span><span style="color: #ff1800;">e</span><span style="color: #ff1d00;">l</span><span style="color: #ff2200;">e</span><span style="color: #ff2700;">a</span><span style="color: #ff2c00;">s</span><span style="color: #ff3100;">e</span><span style="color: #ff3600;"> </span><span style="color: #ff3b00;">0</span><span style="color: #ff4000;">.</span><span style="color: #ff4400;">0</span><span style="color: #ff4900;">7</span></a>, with <span style="color: #ff4e00;">H</span><span style="color: #ff5300;">T</span><span style="color: #ff5800;">M</span><span style="color: #ff5d00;">L</span><span style="color: #ff6200;"> </span><span style="color: #ff6700;">a</span><span style="color: #ff6b00;">n</span><span style="color: #ff7000;">d</span><span style="color: #ff7500;"> </span><span style="color: #ff7a00;">M</span><span style="color: #ff7f00;">a</span><span style="color: #ff8400;">r</span><span style="color: #ff8900;">k</span><span style="color: #ff8e00;">d</span><span style="color: #ff9300;">o</span><span style="color: #ff9900;">w</span><span style="color: #ff9e00;">n</span><span style="color: #ffa300;"> </span><span style="color: #ffa800;">s</span><span style="color: #ffad00;">u</span><span style="color: #ffb200;">p</span><span style="color: #ffb700;">p</span><span style="color: #ffbc00;">o</span><span style="color: #ffc200;">r</span><span style="color: #ffc700;">t</span><span style="color: #ffcc00;">,</span><span style="color: #ffd100;"> </span><span style="color: #ffd600;">b</span><span style="color: #ffdb00;">o</span><span style="color: #ffe000;">t</span><span style="color: #ffe500;">h</span><span style="color: #ffeb00;"> </span><span style="color: #fff000;">s</span><span style="color: #fff500;">e</span><span style="color: #fffa00;">n</span><span style="color: #ffff00;">d</span><span style="color: #f5ff00;">i</span><span style="color: #ebff00;">n</span><span style="color: #e2ff00;">g</span><span style="color: #d8ff00;"> </span><span style="color: #ceff00;">a</span><span style="color: #c4ff00;">n</span><span style="color: #baff00;">d</span><span style="color: #b1ff00;"> </span><span style="color: #a7ff00;">d</span><span style="color: #9dff00;">i</span><span style="color: #93ff00;">s</span><span style="color: #89ff00;">p</span><span style="color: #7fff00;">l</span><span style="color: #76ff00;">a</span><span style="color: #6cff00;">y</span><span style="color: #62ff00;">i</span><span style="color: #58ff00;">n</span><span style="color: #4eff00;">g</span><span style="color: #45ff00;">.</span><span style="color: #3bff00;"> </span><span style="color: #31ff00;">U</span><span style="color: #27ff00;">s</span><span style="color: #1dff00;">a</span><span style="color: #14ff00;">b</span><span style="color: #0aff00;">i</span><span style="color: #00ff00;">l</span><span style="color: #00ff0a;">i</span><span style="color: #00ff14;">t</span><span style="color: #00ff1f;">y</span><span style="color: #00ff29;"> </span><span style="color: #00ff33;">f</span><span style="color: #00ff3d;">i</span><span style="color: #00ff47;">x</span><span style="color: #00ff52;">e</span><span style="color: #00ff5c;">s</span><span style="color: #00ff66;"> </span><span style="color: #00ff70;">s</span><span style="color: #00ff7a;">u</span><span style="color: #00ff85;">c</span><span style="color: #00ff8f;">h</span><span style="color: #00ff99;"> </span><span style="color: #00ffa3;">a</span><span style="color: #00ffad;">s</span><span style="color: #00ffb8;"> </span><span style="color: #00ffc2;">e</span><span style="color: #00ffcc;">n</span><span style="color: #00ffd6;">t</span><span style="color: #00ffe0;">e</span><span style="color: #00ffeb;">r</span><span style="color: #00fff5;">-</span><span style="color: #00ffff;">t</span><span style="color: #00f5ff;">o</span><span style="color: #00ebff;">-</span><span style="color: #00e2ff;">s</span><span style="color: #00d8ff;">e</span><span style="color: #00ceff;">n</span><span style="color: #00c4ff;">d</span><span style="color: #00baff;"> </span><span style="color: #00b1ff;">o</span><span style="color: #00a7ff;">n</span><span style="color: #009dff;"> </span><span style="color: #0093ff;">m</span><span style="color: #0089ff;">e</span><span style="color: #007fff;">d</span><span style="color: #0076ff;">i</span><span style="color: #006cff;">a</span><span style="color: #0062ff;">. </span><span style="color: #004eff;">I</span><span style="color: #0045ff;">m</span><span style="color: #003bff;">p</span><span style="color: #0031ff;">r</span><span style="color: #0027ff;">o</span><span style="color: #001dff;">v</span><span style="color: #0014ff;">e</span><span style="color: #000aff;">m</span><span style="color: #0000ff;">e</span><span style="color: #0600ff;">n</span><span style="color: #0b00ff;">t</span><span style="color: #1100ff;">s</span><span style="color: #1600ff;"> </span><span style="color: #1c00ff;">w</span><span style="color: #2100ff;">i</span><span style="color: #2700ff;">t</span><span style="color: #2c00ff;">h</span><span style="color: #3200ff;"> </span><span style="color: #3800ff;">s</span><span style="color: #3d00ff;">e</span><span style="color: #4300ff;">n</span><span style="color: #4800ff;">d</span><span style="color: #4e00ff;">i</span><span style="color: #5300ff;">n</span><span style="color: #5900ff;">g</span><span style="color: #5f00ff;"> </span><span style="color: #6400ff;">r</span><span style="color: #6a00ff;">e</span><span style="color: #6f00ff;">p</span><span style="color: #7500ff;">l</span><span style="color: #7a00ff;">i</span><span style="color: #8000ff;">e</span><span style="color: #8500ff;">s</span><span style="color: #8b00ff;">.
</span>

It looks like 90's mIRC aesthetic colour codes are here to stay in Matrix if folks want them ;)
<h3>Alias Bot</h3>
TravisR says: Alias Bot got a v1 release this week, whatever that means to you. More information can be found in the changelog: <a href="https://github.com/turt2live/matrix-alias-bot/releases/tag/v1.0.0">https://github.com/turt2live/matrix-alias-bot/releases/tag/v1.0.0</a>
<h3>matrix-monitor-bot</h3>
More from TravisR: <a href="https://lag.t2bot.io/">https://lag.t2bot.io/</a> shows end-to-end message latency within Matrix as seen from different hosts. The Matrix.org HS is missing from the list currently due to concerns over the additional load that the e2e traffic could produce - for more on the load problem: people may be generally interested in watching <a href="https://github.com/turt2live/matrix-monitor-bot/issues/19">this issue</a>: (which, when will eventually have all the raw data available for people to play with)
<h3>mxhsd</h3>
Max says: mxhsd is no longer a thing within the Matrix world and will follow a fork of the protocol instead.
<h3>Synapse</h3>
Lots of time spent looking at federation auth behaviour after Monday's hijack on #matrix:matrix.org.
<a href="/blog/2018/06/14/security-update-synapse-0-31-2/">Security bug release for 0.31.2</a> in order to fail-safe rather than fail-deadly in the event of any further hijack attempts.
GDPR erasure work continues...
Lazyloading membership proposal now has full sytest coverage; just needs a solution for calculating room names serverside (<a href="https://github.com/matrix-org/matrix-doc/issues/688">MSC688</a>)
hawkowl has been working away at improving our unit testing in order to have more confidence in ongoing python2-&gt;python3 porting work
Security work is taking priority over performance work though, so apologies that Matrix.org is going to keep being overloaded for a while longer :|
<h3>Dendrite</h3>
Breakthroughs on implementing the AS API!
Anoa has first traffic flowing back and forth between Dendrite and Discord!
<blockquote class="twitter-tweet" data-lang="en">
<p dir="ltr" lang="en" style="text-align: center;">For most of 2018 we've doubled down on Synapse perf &amp; stability in order to immediately support Matrix's growth, but Dendrite is also ticking along thanks to Anoa, APwhitehat &amp; others! Here's the first ever Matrix-&gt;Discord traffic bridged by Dendrite &amp; matrix-appservice-discord!! <a href="https://t.co/hMnJam8PI4">pic.twitter.com/hMnJam8PI4</a></p>
<p style="text-align: center;">— Matrix (@matrixdotorg) <a href="https://twitter.com/matrixdotorg/status/1006645351858745345?ref_src=twsrc%5Etfw">June 12, 2018</a></p>
</blockquote>
<blockquote class="twitter-tweet" data-lang="en">
<p dir="ltr" lang="en">...and here it is going both ways (kudos to anoa &amp; jcgruenhage)! The reason for implementing the AS API in Dendrite is so we can offload Freenode traffic from the <a href="https://t.co/vidAnPoIo2">https://t.co/vidAnPoIo2</a> HS to a dedicated (faster!) HS. Watch this space! <a href="https://t.co/ow87wKPYLg">pic.twitter.com/ow87wKPYLg</a></p>
— Matrix (@matrixdotorg) <a href="https://twitter.com/matrixdotorg/status/1006695075651444737?ref_src=twsrc%5Etfw">June 13, 2018</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

Meanwhile, APwhitehat is filling in gaps on the S2S API where possible (and is as anxious as all the other HS implementers out there to have a fully documented S2S API release at last!)
<h3>Riot/Mobile</h3>
Implementing E2E key requests is almost finished on both iOS &amp; Android
Lots of perf work ongoing - e.g. Realm on Android and UI thread profiling on iOS (turns out read receipt animations are way slower than they should be)

Unfortunately the GSoC project for implementing alternative push mechanisms (i.e. free alternatives to GCM/FCM/APNS) hasn't worked out. We would love contributors to pick it up however - <a href="https://docs.google.com/document/d/1ULOMnR7YehCJD-VCYplWC3e9KRZynSgUo5wk-nwnzds">https://docs.google.com/document/d/1ULOMnR7YehCJD-VCYplWC3e9KRZynSgUo5wk-nwnzds</a> is a Google Doc which lists various possible approaches.  This is a really important project; please get in touch with <a href="https://matrix.to/#/@matthew:matrix.org">Matthew</a> or <a href="https://matrix.to/#/@dave:matrix.org">Dave</a> if you want to help make it happen!
<h3>Riot/Web</h3>
Residual GDPR erasure work ongoing and generally distracting from everything
Lots of E2E-capable antivirus work (more details coming soon)
The <a href="https://github.com/matrix-org/matrix-react-sdk/pull/1890">big PR to replace Draft with Slate</a> for rich-text editing is reviewed and almost ready for merge
Lots of P1 bug fixing from t3chguy
<a href="https://github.com/matrix-org/matrix-search">matrix-search</a> is pretty much ready to go!
<h3>E2E Crypto</h3>
uhoreg is making good progress with adding PKI APIs to libolm to support better key verification, incremental megolm backup, and encrypting keydata when doing serverside antivirus scanning of e2e attachments!
zil0 is also <a href="https://github.com/matrix-org/matrix-python-sdk/pulls/zil0">making good progress</a> with adding E2E support to matrix-python-sdk in GSoC, gluing together libolm's python bindings with matrix-python-sdk to all the intermediary key management and device management required to make megolm actually work with python!
<h3>Spec</h3>
Lots of work from TravisR on the spec, including a new proposal for managing ASes via API
Lots of new MSCs and PRs:
* <a href="https://github.com/matrix-org/matrix-doc/issues/688">MSC688</a> Proposal to calculate room names server-side
* <a href="https://github.com/matrix-org/matrix-doc/issues/1301">MSC1301</a> Proposal for improving authorization for the matrix profile API
* <a href="https://github.com/matrix-org/matrix-doc/issues/1304">MSC1304</a> Proposal to simplify the auth rules of m.room.power_level events.
* <a href="https://github.com/matrix-org/matrix-doc/issues/1306">MSC1306</a> Proposal to filter out traffic to Appservices based on filters
* <a href="https://github.com/matrix-org/matrix-doc/issues/1308">MSC1308</a> Proposal for speeding up review of simple spec changes
* <a href="https://github.com/matrix-org/matrix-doc/issues/1309">MSC1309</a> Proposal for for an application service management API

Controversy over <a href="https://github.com/matrix-org/matrix-doc/issues/1308">process</a> and the fact that S2S API has stagnated.

There have been some accusations from displeased HS implementors that the lack of S2S API progress from the core team is malicious and some kind of attempt to disadvantage independent server implementations.  <strong>This is categorically not true</strong>.  Instead, it is a case of prioritising user-facing and client-dev facing stuff (scaling, performance, keeping matrix.org online, CS API, client features, bridging, AS API etc) on the basis that the network is nothing without users, and that we had to prioritise thanks to the core team shrinking by ~5 people during the funding crisis at the end of the last year. Matrix is an open network, and an open standard, and we want to build the world's biggest open network for realtime communication - ideally as big as the web itself.  There should be room in that network for many companies to exist and thrive, just as on the web, and we would never ever risk sabotaging the success of the wider Matrix network in order to give any single company an unfair advantage.

However, it's certainly true that S2S API has ended up stagnating for way too long, which is why we've been hiring folks to help with spec bandwidth (uhoreg &amp; TravisR), at which point we finally have bandwidth to make consistent progress again.

On that note, lots of work spec work (especially S2S API) planned next week.
<h3>And finally...</h3>
<div>Here's me and Amandine chatting through the core team bits of the above for those who prefer a podcast format to a blog post: Matrix Live S02E23!</div>
<div style="text-align: center;"></div>
<p style="text-align: center;"><div class="video-container"><iframe src="https://www.youtube.com/embed/ztziXa6kBa8" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></div></p>
