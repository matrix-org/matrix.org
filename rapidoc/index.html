<!doctype html> <!-- Important: must specify -->
<html>
  <head>
    <meta charset="utf-8"> <!-- Important: rapi-doc uses utf8 characters -->
    <script type="module" src="./rapidoc-9.1.2+9364198.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/OpenSans.css">
    <script>
      function getRapiDoc() {
        return document.getElementById("rapidoc");
      }
      function switchSpec() {
        const select = document.getElementById('spec-select');
        const api = select.options[select.selectedIndex].value; 
        const url = "https://spec.matrix.org/latest/" + api + "/api.json";
        getRapiDoc().setAttribute("spec-url", url);
        alert(url);
      }
    </script>
    <style>
      #spec-select {
        padding: 5px;
        background-color: var(--primary-color);
        color: var(--primary-color-invert);
      }
    </style>
  </head>
  <body>
    <rapi-doc
      id = "rapidoc"
      spec-url = "https://spec.matrix.org/latest/client-server-api/api.json"
      show-header="false"
      render-style="focused" 

      font-size="large"

      theme="light"
      nav-bg-color="#f4f4f4"
      nav-accent-color="#0098d4"
      nav-text-color="#000000"
      nav-hover-text-color="#ffffff"
      nav-hover-bg-color="#000000"
      nav-active-text-color="#0098d4"
      nav-active-bg-color="#000000"
      primary-color="#000000"
    >
    <div slot="nav-logo" style="display: flex; align-items: center; justify-content: center;">
      <a href="/docs/develop">
        <img src="/images/matrix-logo.svg">
      </a>
    </div>
    <div slot="overview">
      <select name="spec-select" id="spec-select" onchange="switchSpec();">
        <option value="application-service-api">Application Service API</option>
        <option value="client-server-api" selected>Client-Server API</option>
        <option value="push-gateway-api">Push Gateway API</option>
      </select>
    </div>
    </rapi-doc>
  </body>
</html>
